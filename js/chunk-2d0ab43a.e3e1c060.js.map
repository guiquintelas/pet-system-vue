{"version":3,"sources":["webpack:///./src/views/User.vue?14ad","webpack:///./src/views/User.vue","webpack:///./src/views/User.vue?dbdd","webpack:///./src/views/User.vue?3da2"],"names":["render","_vm","this","_h","$createElement","_c","_self","key","attrs","headers","type","initModel","on","onCreate","onUpdate","onDelete","scopedSlots","_u","fn","ref","model","directives","name","rawName","value","masks","expression","validations","required","cpf","validateCPF","callback","$$v","$set","email","_v","_s","_f","staticRenderFns","extend","components","PetModelPage","filters","props","String","data","text","methods","$route","query","id","store","dispatch","user","add","setLastAdded","commit","snack","OPEN","update","delete","replace","length","getters","filterById","Update","component","VCol","VRow","VTextField"],"mappings":"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","file":"js/chunk-2d0ab43a.e3e1c060.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('PetModelPage',{key:\"user\",attrs:{\"title\":\"Users\",\"newModelBtnText\":\"New User\",\"module\":\"user\",\"headers\":_vm.headers,\"type\":_vm.type,\"initModel\":_vm.initModel},on:{\"create\":_vm.onCreate,\"update\":_vm.onUpdate,\"delete\":_vm.onDelete},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar model = ref.model;\nreturn [_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\",\"sm\":\"4\",\"md\":\"3\"}},[_c('v-text-field',{directives:[{name:\"mask\",rawName:\"v-mask\",value:(_vm.masks.cpf),expression:\"masks.cpf\"}],attrs:{\"label\":\"CPF\",\"outlined\":\"\",\"rules\":[_vm.validations.required, _vm.validations.cpf, _vm.validateCPF]},model:{value:(model.id),callback:function ($$v) {_vm.$set(model, \"id\", $$v)},expression:\"model.id\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\",\"sm\":\"4\",\"md\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"Name\",\"outlined\":\"\",\"rules\":[_vm.validations.required]},model:{value:(model.name),callback:function ($$v) {_vm.$set(model, \"name\", $$v)},expression:\"model.name\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\",\"sm\":\"4\",\"md\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"Email\",\"outlined\":\"\",\"rules\":[_vm.validations.required, _vm.validations.email]},model:{value:(model.email),callback:function ($$v) {_vm.$set(model, \"email\", $$v)},expression:\"model.email\"}})],1)],1)]}},{key:\"item.id\",fn:function(ref){\nvar value = ref.value;\nreturn [_c('b',[_vm._v(_vm._s(_vm._f(\"cpf\")(value)))])]}},{key:\"item.createdAt\",fn:function(ref){\nvar value = ref.value;\nreturn [_vm._v(\" \"+_vm._s(_vm._f(\"formatDate\")(value))+\" \")]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport PetModelPage from '@/components/PetModelPage.vue';\nimport { useFilters } from '@/hooks/filters';\nimport { DataTableHeader } from 'vuetify';\nimport { useValidations, useMasks } from '@/hooks';\nimport store from '@/store/store';\nimport { User } from '../store/modules/user.module';\nimport { PageType } from '../types/pet-model-page';\n\nexport default Vue.extend({\n  name: 'User',\n\n  components: {\n    PetModelPage,\n  },\n\n  filters: {\n    ...useFilters(),\n  },\n\n  props: {\n    type: String,\n  },\n\n  data: () => ({\n    headers: [\n      { text: 'CPF', value: 'id' },\n      { text: 'Name', value: 'name' },\n      { text: 'Email', value: 'email' },\n      { text: 'Created At', value: 'createdAt' },\n    ] as DataTableHeader[],\n\n    ...useValidations(),\n    ...useMasks(),\n  }),\n\n  methods: {\n    initModel() {\n      if (this.$route.query.cpf) {\n        return {\n          id: this.$route.query.cpf,\n        };\n      }\n\n      return {};\n    },\n\n    onCreate(model: User) {\n      store.dispatch.user.add(model);\n\n      if (this.$route.query.cpf) {\n        store.dispatch.user.setLastAdded(model);\n      }\n\n      store.commit.snack.OPEN({\n        text: `User ${model.name} created successfully!`,\n      });\n    },\n\n    onUpdate(model: User) {\n      store.dispatch.user.update(model);\n      store.commit.snack.OPEN({\n        text: `User ${model.name} updated successfully`,\n      });\n    },\n\n    onDelete(model: User) {\n      store.dispatch.user.delete(model);\n      store.commit.snack.OPEN({\n        text: `User ${model.name} deleted successfully`,\n      });\n    },\n\n    validateCPF(cpf: string | undefined) {\n      if (!cpf) {\n        return true;\n      }\n\n      // sanitize cpf\n      cpf = cpf.replace(/[^\\d]+/g, '');\n\n      if (cpf && cpf.length !== 11) {\n        return true;\n      }\n\n      const user = store.getters.user.filterById(cpf);\n\n      if (user && this.type !== PageType.Update) {\n        return 'CPF already exists!';\n      }\n\n      return true;\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=0bcbb944&\"\nimport script from \"./User.vue?vue&type=script&lang=ts&\"\nexport * from \"./User.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCol,VRow,VTextField})\n"],"sourceRoot":""}